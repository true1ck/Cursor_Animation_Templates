<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸŒ¸ Falling Petals</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            height: 100vh;
            background: linear-gradient(135deg, #ffeef8, #f0e6ff, #e6f3ff);
            overflow: hidden;
            font-family: Arial, sans-serif;
            cursor: crosshair;
        }

        .container {
            position: relative;
            width: 100vw;
            height: 100vh;
        }

        .title {
            position: absolute;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            color: #8b5a9e;
            font-size: 2rem;
            font-weight: bold;
            text-align: center;
            z-index: 1000;
            text-shadow: 0 2px 10px rgba(139, 90, 158, 0.3);
        }

        .instructions {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            color: #8b5a9e;
            font-size: 1rem;
            text-align: center;
            z-index: 1000;
            opacity: 0.8;
        }

        .petal {
            position: absolute;
            pointer-events: none;
            border-radius: 50% 10% 50% 10%;
            transform-origin: center center;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
        }

        /* Different petal shapes and sizes */
        .petal.small {
            width: 8px;
            height: 12px;
        }

        .petal.medium {
            width: 12px;
            height: 18px;
        }

        .petal.large {
            width: 16px;
            height: 24px;
        }

        /* Petal colors */
        .petal.pink {
            background: linear-gradient(135deg, #ffb3d9, #ff80cc);
        }

        .petal.rose {
            background: linear-gradient(135deg, #ff99b3, #ff6699);
        }

        .petal.lavender {
            background: linear-gradient(135deg, #e6b3ff, #d199ff);
        }

        .petal.peach {
            background: linear-gradient(135deg, #ffcc99, #ffb366);
        }

        .petal.white {
            background: linear-gradient(135deg, #ffffff, #f0f0f0);
        }

        .petal.cherry {
            background: linear-gradient(135deg, #ff9999, #ff4d6d);
        }

        /* Falling animations */
        @keyframes fall {
            0% {
                transform: translateY(-20vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(120vh) rotate(360deg);
                opacity: 0.3;
            }
        }

        @keyframes sway {
            0%, 100% {
                transform: translateX(0);
            }
            25% {
                transform: translateX(20px);
            }
            75% {
                transform: translateX(-20px);
            }
        }

        @keyframes flutter {
            0%, 100% {
                transform: scale(1) rotateX(0deg);
            }
            50% {
                transform: scale(1.1) rotateX(180deg);
            }
        }

        /* Floating petals (ambient) */
        .ambient-petal {
            animation: fall linear infinite, sway ease-in-out infinite, flutter ease-in-out infinite;
        }

        /* Interactive petals (from cursor) */
        .cursor-petal {
            animation: cursor-fall ease-out forwards, cursor-flutter ease-in-out infinite;
        }

        @keyframes cursor-fall {
            0% {
                transform: translateY(0) rotate(0deg) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(300px) rotate(180deg) scale(0.5);
                opacity: 0;
            }
        }

        @keyframes cursor-flutter {
            0%, 100% {
                transform: rotateX(0deg);
            }
            50% {
                transform: rotateX(180deg);
            }
        }

        /* Wind effect */
        .wind-gust {
            position: absolute;
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,255,255,0.1), transparent);
            pointer-events: none;
            animation: wind-expand 1s ease-out forwards;
            z-index: 1;
        }

        @keyframes wind-expand {
            0% {
                width: 0;
                height: 0;
                opacity: 1;
            }
            100% {
                width: 300px;
                height: 300px;
                opacity: 0;
            }
        }

        /* Gentle breeze effect in background */
        .breeze {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(255,255,255,0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(255,255,255,0.08) 0%, transparent 50%),
                radial-gradient(circle at 60% 20%, rgba(255,255,255,0.06) 0%, transparent 50%);
            animation: gentle-breeze 8s ease-in-out infinite alternate;
        }

        @keyframes gentle-breeze {
            0% {
                transform: translateX(-10px);
                opacity: 0.3;
            }
            100% {
                transform: translateX(10px);
                opacity: 0.6;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="breeze"></div>
        <div class="title">ðŸŒ¸ Falling Petals</div>
        <div class="instructions">Move your cursor to create petals â€¢ Click for wind bursts</div>
    </div>

    <script>
        class FallingPetals {
            constructor() {
                this.container = document.querySelector('.container');
                this.petals = [];
                this.petalColors = ['pink', 'rose', 'lavender', 'peach', 'white', 'cherry'];
                this.petalSizes = ['small', 'medium', 'large'];
                this.mouseTrailTimeout = null;
                this.isMouseMoving = false;
                
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.startAmbientPetals();
                this.createInitialPetals();
            }

            setupEventListeners() {
                // Mouse move for cursor petals
                this.container.addEventListener('mousemove', (e) => {
                    this.isMouseMoving = true;
                    clearTimeout(this.mouseTrailTimeout);
                    
                    // Create petals while moving (throttled)
                    if (Math.random() > 0.7) {
                        this.createCursorPetal(e.clientX, e.clientY);
                    }
                    
                    // Stop creating petals when mouse stops
                    this.mouseTrailTimeout = setTimeout(() => {
                        this.isMouseMoving = false;
                    }, 100);
                });

                // Click for wind burst
                this.container.addEventListener('click', (e) => {
                    this.createWindBurst(e.clientX, e.clientY);
                    this.createPetalBurst(e.clientX, e.clientY);
                });

                // Touch events for mobile
                this.container.addEventListener('touchmove', (e) => {
                    e.preventDefault();
                    const touch = e.touches[0];
                    if (Math.random() > 0.8) {
                        this.createCursorPetal(touch.clientX, touch.clientY);
                    }
                });

                this.container.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    const touch = e.touches[0];
                    this.createWindBurst(touch.clientX, touch.clientY);
                    this.createPetalBurst(touch.clientX, touch.clientY);
                });

                // Keyboard interaction
                document.addEventListener('keydown', (e) => {
                    if (e.code === 'Space') {
                        e.preventDefault();
                        const x = window.innerWidth / 2;
                        const y = window.innerHeight / 2;
                        this.createWindBurst(x, y);
                        this.createPetalBurst(x, y);
                    }
                });
            }

            createPetal(x, y, type = 'ambient') {
                const petal = document.createElement('div');
                petal.className = 'petal';
                
                // Random color and size
                const color = this.petalColors[Math.floor(Math.random() * this.petalColors.length)];
                const size = this.petalSizes[Math.floor(Math.random() * this.petalSizes.length)];
                
                petal.classList.add(color, size);
                
                if (type === 'ambient') {
                    petal.classList.add('ambient-petal');
                    
                    // Random starting position
                    petal.style.left = x + 'px';
                    petal.style.top = '-20px';
                    
                    // Random animation duration and delay
                    const duration = 8 + Math.random() * 12; // 8-20 seconds
                    const swayDuration = 3 + Math.random() * 4; // 3-7 seconds
                    const flutterDuration = 1 + Math.random() * 2; // 1-3 seconds
                    const delay = Math.random() * 5; // 0-5 seconds delay
                    
                    petal.style.animationDuration = `${duration}s, ${swayDuration}s, ${flutterDuration}s`;
                    petal.style.animationDelay = `${delay}s, 0s, ${Math.random() * 2}s`;
                    
                } else if (type === 'cursor') {
                    petal.classList.add('cursor-petal');
                    petal.style.left = (x - 8) + 'px';
                    petal.style.top = y + 'px';
                    
                    // Add some randomness to cursor petals
                    const randomX = (Math.random() - 0.5) * 60;
                    const randomY = Math.random() * 50 + 200;
                    const duration = 2 + Math.random() * 2;
                    
                    petal.style.setProperty('--random-x', randomX + 'px');
                    petal.style.setProperty('--random-y', randomY + 'px');
                    petal.style.animationDuration = `${duration}s, ${0.5 + Math.random()}s`;
                }
                
                this.container.appendChild(petal);
                
                // Remove petal after animation
                const removeDelay = type === 'ambient' ? (8 + Math.random() * 12) * 1000 : 3000;
                setTimeout(() => {
                    if (petal.parentNode) {
                        petal.remove();
                    }
                }, removeDelay);
                
                return petal;
            }

            createCursorPetal(x, y) {
                // Create 1-2 petals at cursor position
                const count = Math.random() > 0.5 ? 1 : 2;
                for (let i = 0; i < count; i++) {
                    const offsetX = x + (Math.random() - 0.5) * 40;
                    const offsetY = y + (Math.random() - 0.5) * 20;
                    this.createPetal(offsetX, offsetY, 'cursor');
                }
            }

            createPetalBurst(x, y) {
                // Create multiple petals in a burst pattern
                const count = 8 + Math.floor(Math.random() * 12);
                for (let i = 0; i < count; i++) {
                    const angle = (i / count) * Math.PI * 2;
                    const radius = 30 + Math.random() * 60;
                    const petalX = x + Math.cos(angle) * radius;
                    const petalY = y + Math.sin(angle) * radius;
                    
                    setTimeout(() => {
                        this.createPetal(petalX, petalY, 'cursor');
                    }, i * 50);
                }
            }

            createWindBurst(x, y) {
                const windGust = document.createElement('div');
                windGust.className = 'wind-gust';
                windGust.style.left = (x - 75) + 'px';
                windGust.style.top = (y - 75) + 'px';
                
                this.container.appendChild(windGust);
                
                // Remove wind effect after animation
                setTimeout(() => {
                    windGust.remove();
                }, 1000);
            }

            startAmbientPetals() {
                // Create ambient petals continuously
                setInterval(() => {
                    if (document.visibilityState === 'visible') {
                        const x = Math.random() * window.innerWidth;
                        this.createPetal(x, -20, 'ambient');
                    }
                }, 800 + Math.random() * 1200); // Every 0.8-2 seconds
            }

            createInitialPetals() {
                // Create some initial petals for immediate visual impact
                for (let i = 0; i < 15; i++) {
                    setTimeout(() => {
                        const x = Math.random() * window.innerWidth;
                        const y = -Math.random() * window.innerHeight * 0.5;
                        const petal = this.createPetal(x, y, 'ambient');
                        // Start these petals partway through their fall
                        petal.style.animationDelay = '0s, 0s, 0s';
                    }, i * 200);
                }
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new FallingPetals();
        });
    </script>
</body>
</html>
